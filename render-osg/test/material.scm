(define lamp-0-<lamp=>world> (m44 0.9738835096359253 0.1478356570005417 -0.17232383787631989 0.1906595230102539 -0.10882819443941116 0.9700502753257751 0.2171611189842224 16.902111053466797 0.1992669254541397 -0.1927359253168106 0.9608047604560852 33.94947052001953 0.0 0.0 0.0 1.0))
(define <world=>camera> (m44 1.0 -0.0 0.0 -9.0 -0.0 1.0 -0.0 -16.0 0.0 -0.0 1.0000001192092896 -20.000001907348633 -0.0 0.0 -0.0 1.0))
(define lamp-0-color (v3 0.2596023678779602 0.631800651550293 1.0))
(define lamp-0-falloff-distance 29.999982833862305)
(define lamp-0-negative #f)
(define lamp-0-energy 300.0)
(define lamp-0-shadow-buffer-clip-start 1.0007989406585693)
(define lamp-0-shadow-buffer-clip-end 30.00200080871582)
(define lamp-0-<world=>lamp> (m44 0.9738835692405701 -0.10882820188999176 0.19926691055297852 -5.111260890960693 0.1478356570005417 0.9700502157211304 -0.19273591041564941 -9.880799293518066 -0.1723238229751587 0.21716107428073883 0.9608045220375061 -36.256431579589844 -0.0 0.0 -0.0 1.0))
(define <camera=>world> (m44 1.0 0.0 0.0 9.0 0.0 1.0 0.0 16.0 0.0 0.0 0.9999999403953552 20.0 0.0 0.0 0.0 1.0))
(define lamp-0-spot-blend 0.15000000596046448)
(define lamp-0-spot-size 0.3490658402442932)
(define lamp-1-<lamp=>world> (m44 0.9928138256072998 0.06382421404123306 -0.10122808814048767 10.0 -0.07207784801721573 0.9941783547401428 -0.08008880168199539 0.0 0.09552714973688126 0.08680956810712814 0.9916344285011292 32.0 0.0 0.0 0.0 1.0))
(define lamp-1-color (v3 0.2596023678779602 0.631800651550293 1.0))
(define lamp-1-falloff-distance 29.999982833862305)
(define lamp-1-negative #f)
(define lamp-1-energy 300.0)
(define lamp-1-shadow-buffer-clip-start 1.0007989406585693)
(define lamp-1-shadow-buffer-clip-end 30.00200080871582)
(define lamp-1-<world=>lamp> (m44 0.9928139448165894 -0.07207785546779633 0.09552717208862305 -12.98500919342041 0.06382422149181366 0.9941784143447876 0.08680956810712814 -3.4161484241485596 -0.10122807323932648 -0.0800887942314148 0.9916343092918396 -30.720016479492188 -0.0 0.0 -0.0 1.0))
(define lamp-1-spot-blend 0.15000000596046448)
(define lamp-1-spot-size 0.7330382466316223)
(define material-diffuse-color (v3 0.0 0.003247454296797514 0.800000011920929))
(define material-diffuse-intensity 1.0)
(define material-emission 0.12999999523162842)
(define material-specular-color (v3 1.0 1.0 1.0))
(define material-specular-hardness 50.0)
(define material-specular-intensity 1.0)
(define sampler-0-bind-index 0)
(define sampler-1-bind-index 1)
(define sampler-2-bind-index 2)
(define world-ambient-color (v3 0.0023334044963121414 0.3484872579574585 0.14079494774341583))
(define sampler-0-texture #<unspecified>)
(define sampler-1-texture #<unspecified>)
(define sampler-2-texture #<unspecified>)

(define (preload usr)
  (begin
    (set! sampler-0-texture (preload-image 1024 1024 "/home/nha/data/blender_glsl_material/test//test.png" usr))
    (set! sampler-1-texture (preload-shadow-buffer "lamp-0" 2880 usr))
    (set! sampler-2-texture (preload-shadow-buffer "lamp-1" 2880 usr))))

(define (bind-samplers usr)
  (begin
    (sampler "samp0" sampler-0-bind-index sampler-0-texture usr)
    (sampler "samp1" sampler-1-bind-index sampler-1-texture usr)
    (sampler "samp2" sampler-2-bind-index sampler-2-texture usr)))

(define (bind-uniforms usr) 
  (begin
    (uniform-1fv "unf103" (lamp-spotsize lamp-1-spot-size) usr)
    (uniform-1fv "unf104" (lamp-spotblend lamp-1-spot-size lamp-1-spot-blend) usr)
    (uniform-1fv "unf115" material-diffuse-intensity usr)
    (uniform-1fv "unf117" (lamp-dyn-energy lamp-1-negative lamp-1-energy) usr)
    (uniform-1fv "unf144" material-specular-hardness usr)
    (uniform-1fv "unf147" material-specular-intensity usr)
    (uniform-1fv "unf22" material-emission usr)
    (uniform-1fv "unf31" lamp-0-falloff-distance usr)
    (uniform-1fv "unf37" (lamp-spotsize lamp-0-spot-size) usr)
    (uniform-1fv "unf38" (lamp-spotblend lamp-0-spot-size lamp-0-spot-blend) usr)
    (uniform-1fv "unf49" material-diffuse-intensity usr)
    (uniform-1fv "unf51" (lamp-dyn-energy lamp-0-negative lamp-0-energy) usr)
    (uniform-1fv "unf78" material-specular-hardness usr)
    (uniform-1fv "unf81" material-specular-intensity usr)
    (uniform-1fv "unf97" lamp-1-falloff-distance usr)
    (uniform-1i "samp0" sampler-0-bind-index usr)
    (uniform-1i "samp1" sampler-1-bind-index usr)
    (uniform-1i "samp2" sampler-2-bind-index usr)
    (uniform-3fv "unf100" (lamp-dynvec lamp-1-<lamp=>world> <world=>camera>) usr)
    (uniform-3fv "unf118" lamp-1-color usr)
    (uniform-3fv "unf153" material-specular-color usr)
    (uniform-3fv "unf17" material-diffuse-color usr)
    (uniform-3fv "unf27" (lamp-dynco lamp-0-<lamp=>world> <world=>camera>) usr)
    (uniform-3fv "unf34" (lamp-dynvec lamp-0-<lamp=>world> <world=>camera>) usr)
    (uniform-3fv "unf52" lamp-0-color usr)
    (uniform-3fv "unf87" material-specular-color usr)
    (uniform-3fv "unf93" (lamp-dynco lamp-1-<lamp=>world> <world=>camera>) usr)
    (uniform-4fv "unf164" (v4-v3 world-ambient-color) usr)
    (uniform-Matrix4fv "unf122" (lamp-perspective-matrix lamp-1-spot-size lamp-1-shadow-buffer-clip-start lamp-1-shadow-buffer-clip-end lamp-1-<world=>lamp> <camera=>world>) usr)
    (uniform-Matrix4fv "unf56" (lamp-perspective-matrix lamp-0-spot-size lamp-0-shadow-buffer-clip-start lamp-0-shadow-buffer-clip-end lamp-0-<world=>lamp> <camera=>world>) usr)))

(define (bind-attributes usr) 
  (begin
    (attribute-2fv "att0" 1 "vertex-texture-coordinates" usr)))

